


spring:
  application:
    name: gateway
  data:
    redis:
      url: redis://redis-service:6379
      client-type: lettuce
      database: 0
  cloud:
    gateway:
      routes:
        - id: auth-service
          uri: http://auth-service:8001
          predicates:
            - Path=/api/v1/auth/**
        - id: user-service
          uri: http://user-service:8002
          predicates:
            - Path=/api/v1/user/**
server:
  port: 8000
logging:
  level:
    org.springframework.security.: DEBUG
    org.springframework.cloud: DEBUG
    org.springdoc: TRACE
#springdoc:
#  swagger-ui:
#    enabled: true
#    path: /docs
#    urls:
#      - name: "auth-service"
management:
  endpoints:
    web:
      exposure:
        include: gateway
  endpoint:
    gateway:
      enabled: true
springdoc:
  api-docs:
    path: /api-docs
  swagger-ui:
    path: /ui-docs
    enabled: true
    oauth:
      client-id: webclient
      client-secret: webclientsecret
      use-basic-authentication-with-access-code-grant: true
    oauth2-redirect-url: http://localhost:8000/webjars/swagger-ui/oauth2-redirect.html
    urls:
      - name: "auth-service"
        url: "http://localhost:8000/api/v1/auth/api-docs"
      - name: "user-service"
        url: "http://localhost:8000/api/v1/user/api-docs"
    use-root-path: true
